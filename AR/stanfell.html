<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>GeoAR.js demo</title>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
</head>

<body style="margin: 0; overflow: hidden;">
    <a-scene 
    vr-mode-ui="enabled: true" 
    embedded 
    loading-screen="enabled: false;"
    arjs="sourceType: webcam; sourceWidth:1280; sourceHeight:960; displayWidth: 1280; displayHeight: 960;">


    <a-entity 
    scale="0.1 0.1 0.1"
    animation="property: rotation; to: 0 360 0; loop: true; dur: 10000"
    rotation="0 0 0" 
    gps-entity-place = "latitude: 52.61160554784046; longitude: -1.122719771946893"> 
        <a-dodecahedron 
            color= "red" 
            radius="5">
        </a-dodecahedron>
    </a-entity>

    <a-entity 
    scale="0.1 0.1 0.1"
    animation="property: rotation; to: 0 360 0; loop: true; dur: 10000"
    rotation="0 0 0" 
    gps-entity-place = "latitude: 52.61152940711115; longitude: -1.1228424830080401">
        <a-torus 
            color="blue" 
            arc="270" 
            radius="5" 
            radius-tubular="0.1">
        </a-torus>
    </a-entity>        

    <a-entity 
    rotation="0 0 0" 
    animation="property: rotation; to: 0 360 0; loop: true; dur: 10000"
    gps-entity-place = "latitude: 52.6114687387347; longitude: -1.122686244334558">
        <a-sphere 
            position="5 0 0" 
            color="mediumseagreen">
        </a-sphere>
    </a-entity>        

    <a-entity 
    scale="0.1 0.1 0.1"
    animation="property: rotation; to: 0 360 0; loop: true; dur: 10000"
    rotation="0 0 0" 
    gps-entity-place = "latitude: 52.611536329001105; longitude: -1.1225682271391377">
        <a-icosahedron 
            color="purple" 
            radius="5">
        </a-icosahedron>
    </a-entity>

        <a-camera gps-camera = "maxDistance: 25;" rotation-reader> </a-camera>
    </a-scene>

    <script>
        setTimeout(() => {
            var vidCam = document.body.lastElementChild;
            vidCam.setAttribute('id', 'arVideo');
            var camera = document.querySelector('[camera]');
            webCamSource = document.createElement('a-entity');
            webCamSource.setAttribute('geometry', 'primitive: plane;');
            webCamSource.setAttribute('material', 'shader: flat; src: #arVideo');
            webCamSource.setAttribute('position', '0 0 -50');
            webCamSource.setAttribute('scale', '54 36 1');
            camera.insertBefore(webCamSource, camera.firstChild);
            document.querySelector('.a-enter-vr-button').addEventListener('click', () => {
                camera.object3D.position.set(0, 0, 0)
            })
        }, 2000);
    </script>
</body>

</html>